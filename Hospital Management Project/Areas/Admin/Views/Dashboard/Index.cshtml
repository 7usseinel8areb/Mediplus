@{
    Layout = "_DashboardLayout"; // تأكد من أن لديك هذا التخطيط
}

<div class="container mt-5">
    <!-- زيادة التباعد العلوي -->
    <div class="row justify-content-center" style="margin-top: 40px; margin-left: 110px;">
        <!-- First Row -->
        <div class="col-md-6 col-lg-6 col-xl-3 mb-4">
            <div class="dash-widget" style="margin-top: 20px;">
                <div class="d-flex align-items-center">
                    <span class="dash-widget-bg1"><i class="fa fa-stethoscope" aria-hidden="true"></i></span>
                    <div class="dash-widget-info text-right ml-2">
                        <h3>@ViewBag.DoctorCount</h3>
                        <span class="widget-title1">Doctors <i class="fa fa-check" aria-hidden="true"></i></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-6 col-xl-3 mb-4">
            <div class="dash-widget" style="margin-top: 20px;">
                <div class="d-flex align-items-center">
                    <span class="dash-widget-bg2"><i class="fa fa-user-o"></i></span>
                    <div class="dash-widget-info text-right ml-2">
                        <h3>@ViewBag.PatientCount</h3>
                        <span class="widget-title2">Patients <i class="fa fa-check" aria-hidden="true"></i></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-6 col-xl-3 mb-4">
            <div class="dash-widget" style="margin-top: 20px;">
                <div class="d-flex align-items-center">
                    <span class="dash-widget-bg3"><i class="fa fa-hospital-o" aria-hidden="true"></i></span>
                    <div class="dash-widget-info text-right ml-2">
                        <h3>@ViewBag.DepartmentCount</h3>
                        <span class="widget-title3">Departments <i class="fa fa-check" aria-hidden="true"></i></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-6 col-xl-3 mb-4">
            <div class="dash-widget" style="margin-top: 20px;">
                <div class="d-flex align-items-center">
                    <span class="dash-widget-bg4"><i class="fa fa-user-md" aria-hidden="true"></i></span>
                    <div class="dash-widget-info text-right ml-2">
                        <h3>@ViewBag.NurseCount</h3>
                        <span class="widget-title4">Nurses <i class="fa fa-check" aria-hidden="true"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- الرسوم البيانية تحت الأيقونات -->
    <div class="row">
        <div class="col-12 col-md-6 col-lg-6 col-xl-6 mb-4">
            <div class="card">
                <div class="card-body">
                    <div class="chart-title">
                        <h4>Patient Total</h4>
                        <span class="float-right"><i class="fa fa-caret-up" aria-hidden="true"></i> 15% Higher than Last Month</span>
                    </div>	
                    <canvas id="linegraph" width="796" height="397" style="display: block; height: 318px; width: 637px;" class="chartjs-render-monitor"></canvas>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-6 col-xl-6 mb-4">
            <div class="card">
                <div class="card-body">
                    <div class="chart-title">
                        <h4>Patients In</h4>
                        <div class="float-right">
                            <ul class="chat-user-total" style="list-style-type: none; padding: 0; margin: 0;">
                                <li style="display: inline; margin-right: 10px;"><i class="fa fa-circle current-users" aria-hidden="true"></i> ICU</li>
                                <li style="display: inline; margin-right: 10px;"><i class="fa fa-circle old-users" aria-hidden="true"></i> OPD</li>
                            </ul>
                        </div>
                    </div>	
                    <canvas id="bargraph" width="796" height="397" style="display: block; height: 318px; width: 637px;" class="chartjs-render-monitor"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .dash-widget {
        padding: 20px; /* إضافة تباعد داخلي */
        border-radius: 8px; /* إضافة زوايا مستديرة */
        transition: transform 0.3s; /* تأثير التحريك */
        background-color: #fff; /* لون خلفية أبيض لجعل العناصر بارزة */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* إضافة ظل خفيف */
    }

    .dash-widget-bg1, .dash-widget-bg2, .dash-widget-bg3, .dash-widget-bg4 {
        font-size: 30px; /* حجم الأيقونة */
        margin-right: 10px; /* تباعد بين الأيقونة والنص */
        display: inline-block; /* عرض الأيقونة بشكل متجاور */
    }

    .dash-widget:hover {
        transform: scale(1.05); /* تكبير عند التمرير */
    }
</style>

<!-- تأكد من تضمين مكتبة Chart.js في رأس الصفحة أو قبل إغلاق وسم </body> -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // الكود الخاص بالرسوم البيانية
    const ctxLine = document.getElementById('linegraph').getContext('2d');
    const lineChart = new Chart(ctxLine, {
        type: 'line',
        data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [{
                label: 'Patients Total',
                data: [12, 19, 3, 5, 2, 3, 10],
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    const ctxBar = document.getElementById('bargraph').getContext('2d');
    const barChart = new Chart(ctxBar, {
        type: 'bar',
        data: {
            labels: ['ICU', 'OPD'],
            datasets: [{
                label: 'Patients In',
                data: [12, 19],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
